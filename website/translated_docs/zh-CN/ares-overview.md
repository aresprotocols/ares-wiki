---
id: aresOverview
title: Overview
sidebar_label: Overview
---

## Ares 是什么

Ares 是一种链上验证的预言机协议，为 Polkadot DeFi 生态系统提供安全可靠的数据服务。

Ares 是一个去中心化的混合预言机，完全实现了预言机数据的上链和链上验证。通过使用 VRF 发现聚合器的随机选择，解决了数据中心化问题，并保证了非常低的参与门槛。但是，聚合器的随机选择并不能保证数据的准确性。为了解决数据有价值的问题，Ares创新地采用了挑战者模型。当网络中的验证节点在验证数据的过程中发现聚合器的数据有问题时，只需支付一定的Gas即可发起挑战。数据将传递给仲裁机构，仲裁机构由诚实的聚合者和代币持有者组成。正常情况下，除了网络出现挑战外，它什么都不做。仲裁组织的每个成员将对挑战发起 BFT 投票。如果验证通过，聚合者将受到惩罚，挑战者将获得奖励。

Ares 作为开源的去中心化跨链预言机服务协议，通过引入通证模型和社区治理，构建了去中心化的数据交易生态系统。数据需求方可以安全有效地获取链下数据，让优质数据提供方通过链上治理和数据交易获利。

Ares 建立在 Polkadot 生态下。并且通过 Substrate 构建，作为与 Polkadot 生态的平行链链接，共享 Polkadot 的安全共识；其次，Ares 是一个可扩展的两层预言机网络，它是 Polkadot 的其他平行链，与主流区块链网络一起提供去中心化数据预言机服务。


## Ares 的适用场景

Ares Network 适用于多种场景，包括：

1. 去中心化金融
Ares为去中心化的稳定币、交易所、借贷、保险、金融衍生品等去中心化金融提供高精度、实时、安全可靠的链外资产数据，方便的为DEFI项目的开发提供开箱即用的稳定基础设施。

2. 去中心化身份
去中心化身份解决方案，提供安全、可控和便捷的数字身份，为钱包提供商、验证供应商、DAPP开发商和基础设施提供商提供一站式解决方案。

3. 物联网
通过Ares Protocol，将物联网设备可信上链，解决物联网终端身份确认与数据确权的问题，保证链上数据与应用场景深度绑定，重构供应链、食品安全、朔源、智能家居行业。

4. 预测市场
去中心化预测市场，如Augar和Gnosis，利用人群的智慧来预测现实世界的结果，如总体选举和体育博彩的结果。

5，博彩游戏
Ares Protocol将提供链上可验证随机数，赋能区块链游戏和NFTs更多玩法。


## 立即加入并开始使用 Ares

您可以参考以下链接来加入或者使用Ares网络。

- 节点提供者 - 请参考[节点指南](build-node.md)以安装配置和运行Ares节点。
- 通证持有者 - 请参考[质押挖矿](trojanstaking.md)进行Staking及担保等相关操作。
- 开发人员 - 有关更多信息，请参见[构建](build-getting-started.md)页面。

## Ares 如何工作

#### 参与者

![arch](https://github.com/aresprotocols/documentation/blob/master/assets/img/arch.png?raw=true)

#### 聚合者
聚合者通过 Scanner 获取外界的请求数 据，将请求发送到 
processor 处理所有的 Oracle 请求。聚合者是通过 VRF 算法随机选择一个聚合者，调用 processor 聚合多个数据源的数据提交到区块里面，通过区块传播协议广播到 Ares 网络上。
#### 挑战者
挑战者对聚合者提交的数据进行完整性和有效性验证，将存在欺诈的聚合者交易和正确数据提交给声誉委员会以获得奖励。
#### 声誉委员会
通过激励挑战者、惩罚作恶的聚合者，保证 Area 网络的安全。声
誉委员会完全社区自治，通过通证抵押和信誉加权来竞选声誉委员会。声誉委员会内部仲裁需要通过FSP 欺诈安全协议进行投票， 仅在链上存在纠纷时运行。
#### 数据消费者
数据消费者可以是智能合约、平行链、DAPP 中需要获取外界数
据的对象，可以为DEFI，预测市场，博彩提供各种可信有效数据， 由于 Ares 的链上数据有一定的数据挑战期，数据消费者根据一定的安全规范获取链上数据。
#### 节点运营商
节点运营商，作为 Ares 网络的全节点，通过和本地存储的数据市场对比来校验数据，保证Ares 网络的安全并提供预言机RPC 服务。

Ares Protocol 是基于 Substrate 2.0 构建的，作为平行链 / 平行线程的方式接入波卡生态。具体的流程如下：
1，波卡生态的平行链，通过集成 ares oracle pallet，提交数据请求；

2，Scanner 获取外界的请求数据，提交给聚合者；
3，Ares Chain 通过 VRF 算法随机选择一个聚合者；
4，聚合者调用 processor 聚合多个数据源的数据提交到Ares 区块链中；
5，验证节点会验证聚合者的数据并提出挑战；
6，声誉委员会校验挑战者提交的数据并进行仲裁。

#### 如何解决去中心化问题？
Ares 提出了两种方案来尽量避免问题节点的出现，即分布式的数据源以及分布式预言机。
#### 分布式数据源
每个节点运营商，从多个不同的数据源来获得数据，以减轻异常
数据源对于结果的影响。聚合函数可以将多个返回结果聚合成单一的答案。有很多方案可以完成数据聚合，比如去掉异常数据后的加权平均。
数据源之间可能会存在互相获取数据的情况，这也可能导致聚合结果的错误。我们会持续关注这类问题，并对数据源的独立性进行报告。
#### 分布式聚合者
聚合者（即矿工）主要负责提供各种类型的数据，挑战者（即验证人）
验证并质疑数据提供者提供的各种数据并发送给议会（仲裁机构）。声誉委员会对数据验证者提出的挑战进行仲裁，如果校验通过奖励挑战者，惩罚聚合者。
在提供数据报价的所有聚合者矿工节点中，Ares Network 通过可验证随机函数（VRF）来随机选择一组聚合者节点，以竞争提供最准确的市场数据。通过将 VRF 引入系统，可以大大提高系统的分散程度。
通过 VRF 随机选择聚合者节点提供外部数据上链在提供数据报价的所有聚合者矿工节点中，Ares Network 通过可验证随机函数
（VRF）来随机选择一组聚合者节点，以竞争提供最准确的市场数据。通过将 VRF 引入系统，可以大大提高系统的分散程度。通过 VRF 随机选择聚合者节点提供外部数据上链。

![arch](https://github.com/aresprotocols/documentation/blob/master/assets/img/vrf.png?raw=true)


Ares 经过 VRF 的运算可选定聚合者，最终确定某个聚合者在当前高度出块，通过零知识证明以验证聚合者，这部分将在出块同时广播出去普通验证节点收到区块后验证在允许偏差范围内则校验通过。

#### 声誉委员会治理
BFT（Byzantine Fault-Tolerant） 算法于 20 世纪 80 年代开始被
研究，旨在解决所谓拜占庭将军问题。BFT 类算法中最著名的是PBFT，该算法是基于消息传递的一致性算法，在弱同步网络下， 算法经过三个阶段可以达成一致性，复杂度为 O(n2)。在无法达成一致时，这些阶段会重复进行，直到超时。
PBFT 的优点是收敛速度快、节省资源、具有理论上的安全界（理论上允许不超过 1/3 的恶意节点存在，即总节点数为 3k + 1，其中正常节点超过 2k + 1 个时，算法可以正常工作）。

![arch](https://github.com/aresprotocols/documentation/blob/master/assets/img/bft.png?raw=true)

议会成员是从聚合者或是持币人中进行选择的，里面有一个关于声誉值和持币量的映射比例。保证议会成员不会被持币人操纵。聚合者每提交一次正确的数据，其声誉价值就会增长，将会维护一个议会成员列表和等待队列，每一月会更新一次议会成员。议会只能批准或拒绝挑战者提交的欺诈证明。由于挑战是需要支付一定数量的GAS 费，正常情况下议会是不需要工作的，只需要在验证者提出欺诈证明时处理争议，可以向理事会提交欺诈证据。如果委员会验证欺诈证明通过，它将奖励挑战者和惩罚聚合者，它的声誉将会下降。议会成员间处理挑战者争议时需要使用 BFT 算法来进行快速的确认，这里面会设置一个安全区间，如果聚合者把数据上链后，验证者在校验的时候发现了数据错误并在下一个块出块前广播了出去， 此时挑战者获胜收到的奖励是最高的，后面依次递减，奖励会分配成议会成员，有一小部分分配成国库，当在数据错误时用来申请赔偿，这会只治理模块中讨论。

#### 如何解决争议

![arch](https://github.com/aresprotocols/documentation/raw/master/assets/img/disputes.png?raw=true)

Ares 网络的安全性由非常严格的带处罚的 POS 来保障，如果一个节点运营商被识别为攻击者的话，他所抵押的所有 Ares 通证将被分配成声誉委员会，挑战者，国库。
对应不同的数据市场，如 DEFI，为了防止恶意报价，Ares 设计了一个挑战机制，挑战者（任何Ares 全节点）可以对报价提出异议。发起挑战需要支付少量的ARES 通证，并广播到声誉委员会，如果声誉委员会 2/3 的节点审核为恶意行为，那么他将被标记为恶意节点，抵押的通证被冻结，节点抵押的通证被转移到声誉委员会， 挑战者，国库。
但极端情况下，当数据消费者由于恶意节点上报数据而导致损失时，可以向国库发起提案申请补偿，然后通过社区投票，通过后通过国库给数据消费者进行补偿。
